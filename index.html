<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Loan Mix Optimizer</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header>
  <h1>AI Loan Mix Optimizer</h1>
  <p>Compare loan options and find a low-cost mix to cover your need.</p>
</header>

<main>
  <section class="card">
    <h2>Amount to Finance</h2>
    <label>Target Amount ($)
      <input id="target-amount" type="number" min="0" step="0.01" placeholder="20000" required />
    </label>
  </section>

  <section class="card">
    <div class="row header">
      <h2>Loan Options</h2>
      <button id="add-loan" type="button">+ Add Loan</button>
    </div>

    <div id="loans"></div>
    <template id="loan-row">
      <fieldset class="loan">
        <div class="grid">
          <label>Name
            <input type="text" class="loan-name" placeholder="e.g., Direct Subsidized" />
          </label>
          <label>Interest Rate (%)
            <input type="number" class="loan-interest" min="0" step="0.01" placeholder="6.53" />
          </label>
          <label>Origination Fee (% of principal)
            <input type="number" class="loan-fee" min="0" step="0.01" placeholder="1.057" />
          </label>
          <label>Borrowing Cap ($)
            <input type="number" class="loan-cap" min="0" step="0.01" placeholder="5500" />
          </label>
          <label>Repayment Term (years)
            <input type="number" class="loan-term" min="1" step="1" placeholder="10" />
          </label>
          <label>In-School Accrual (months)
            <input type="number" class="loan-accrual" min="0" step="1" placeholder="24" />
          </label>
        </div>
        <button type="button" class="remove-loan">Remove</button>
      </fieldset>
    </template>
  </section>

  <section class="card">
  <h2>Optional: Paste your loan details</h2>
  <textarea id="free-text" rows="5" placeholder="Example:
I need $28,000. Direct Unsubsidized 8.05% fee 1.057% cap 12000; PLUS 9.1% fee 4.228% cap 20000; 24 months in-school; 10 year term."></textarea>
  <div style="margin-top:.5rem;">
    <button id="btn-parse" type="button">Fill the form from this text</button>
  </div>
</section>

<!-- After your results section, add an Explain button (or place it inside results) -->
<section class="card">
  <button id="btn-explain" type="button">Explain this plan</button>
</section>


  <section class="card actions">
    <button id="optimize" type="button">Optimize Mix</button>
  </section>

  <section id="results" class="card" hidden>
    <h2>Results</h2>
    <div id="allocation-table"></div>
    <div id="summary"></div>
  </section>

  <section id="explain" class="card" hidden>
    <h2>Explanation</h2>
    <p id="explanation-text">Coming soon (GPT integration).</p>
  </section>
</main>

<footer>
  <p>© 2025 Kwon Hwang • For educational planning</p>
</footer>

<script src="app.js" defer></script>
</body>
</html>
