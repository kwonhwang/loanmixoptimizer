<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Assistant for Loan Mix Optimization</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header>
  <h1>AI Assistant for Loan Mix Optimization</h1>
  <p>Paste your details or fill the form, then optimize the lowest-cost loan mix.</p>
</header>

<main>

  <!-- 1) Free-text first: parse to pre-fill the form -->
  <section class="card">
    <h2>Paste your loan details</h2>
    <textarea id="free-text" rows="5" placeholder="Example:
I need $28,000. Direct Unsubsidized 8.05% fee 1.057% cap 12000; PLUS 9.1% fee 4.228% cap 20000; 24 months in-school."></textarea>
      <div class="actions mt">
    <button id="btn-speech" type="button">ðŸŽ™ Speak instead</button>
    <span id="speech-status" class="muted"></span>
    <button id="btn-parse" type="button">Fill the form from this text</button>
  </div>

  </section>
  
  <!-- 2) Amount to finance -->
  <section class="card">
    <h2>Amount to Finance</h2>
    <label>Target Amount ($)
      <input id="target-amount" type="number" min="0" step="0.01" placeholder="20000" required />
    </label>
  </section>

 <!-- 3) Loan options table -->
  <section class="card">
    <div class="row header">
      <h2>Loan Options</h2>
      <button id="add-loan" type="button">+ Add Loan</button>
    </div>

    <div id="loans"></div>
    <template id="loan-row">
  <fieldset class="loan">
    <div class="grid">
      <label>Name
        <input type="text" class="loan-name" placeholder="e.g., Direct Subsidized" />
      </label>
      <label>Interest Rate (%)
        <input type="number" class="loan-interest" min="0" step="0.01" placeholder="6.53" />
      </label>
      <label>Origination Fee (% of principal)
        <input type="number" class="loan-fee" min="0" step="0.01" placeholder="1.057" />
      </label>
      <label>Borrowing Cap ($)
        <input type="number" class="loan-cap" min="0" step="0.01" placeholder="20500" />
      </label>
      <label>In-School Accrual (months)
        <input type="number" class="loan-accrual" min="0" step="1" placeholder="24" />
      </label>
      <label>
        Interest subsidized in school?
        <input type="checkbox" class="loan-subsidized" />
      </label>
    </div>
    <button type="button" class="remove-loan">Remove</button>
  </fieldset>
</template>

  </section>

  <!-- 4) Optimize -->
  <section class="card actions">
    <button id="optimize" type="button">Optimize Mix</button>
  </section>

  
   <!-- 5) Results -->
  <section id="results" class="card" hidden aria-live="polite">
    <h2>Results</h2>
    <div id="allocation-table"></div>
    <div id="summary"></div>
    <div class="actions mt">
      <button id="btn-explain" type="button" disabled>Explain this plan</button>
    </div>
  </section>
  
<!-- 6) Explanation -->
  <section id="explain" class="card" hidden aria-live="polite">
    <h2>Explanation</h2>
    <p id="explanation-text">â€”</p>
  </section>
</main>

<footer>
  <p>Â© 2025 Kwon Hwang â€¢ For educational planning</p>
</footer>

<script src="app.js" defer></script>
</body>
</html>
